# apikana-jsonschema2pojo

## Reason for this module

The library jsonschema2pojo, which apikana-java uses to generate java classes from the json schema
generated by apikana, has introduced a breaking change in commit
[fbf456f9](https://github.com/joelittlejohn/jsonschema2pojo/commit/fbf456f914a85b7f173290a1b553a2d0a1b21552)
which leads to duplicated classes generated for api dependencies. This was made aware to the
maintainers in issue [1152](https://github.com/joelittlejohn/jsonschema2pojo/issues/1152), but
has not been addressed so far. Please also refer to
[SDCISA-20221](https://jira.post.ch/browse/SDCISA-20221) for more information.

## Fix for the problem

Fortunately the library allows to hook into the generation process by providing implementations of the
rule classes. This module does exactly that. It provides the two classes `ApikanaObjectRule` and
`ApikanaTypeRule`. The implementation of those classes is the same as in the library, but without
the above-mentioned breaking change.

## How to use this module

This module is used by the `apikana-parent` maven module where it is given as a dependency
to the `jsonschema2pojo-maven-plugin`. The `ApikanaRuleFactory` is then configured as a
`customRuleFactory`. Unfortunately due to how maven resolves properties (including `project.version`
and `parent.version`), users of `apikana-java` need to make sure to set the property
`apikana-maven-plugin.version` to the correct value. `paisa-api` is already doing this, so the change
is transparent for ISA APIs.
